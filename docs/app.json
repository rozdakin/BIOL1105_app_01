[{"name":"app.R","content":"\nlibrary(shiny)\n\n# Create the ui and server objects\n\n# Define UI for app that draws a histogram ----\nui <- fluidPage(\n\n  # App title ----\n  titlePanel(\"Sampling from a normal distribution\"),\n\n  # Sidebar layout with input and output definitions\n  sidebarLayout(position='right',\n\n    # Sidebar panel for inputs ----\n    sidebarPanel(\n    width=4,\n\t  sliderInput(inputId = 'ss', label = 'Sample size', min = 5, max = 500, value = 20, round = T) #,\n\t  # br(),\n\t  # br(),\n      # dataTableOutput('table')\n\n    ),\n\n    # Main panel for displaying outputs\n    mainPanel(\n\n\t  h5(\"Collect data on people's height from a large population.\"),\n\t  h5(\"Each time you press the button, a new sample is drawn. You will see the population distribution, followed by a histogram of your sample data below. The red vertical lines show the mean for the whole population and your sample. Use the slider to the right to explore what happens when you change your sample size.\"),\n\t  # br(),\n\t  # br(),\n\t  \n\t  actionButton(\"run\", label = \"Draw a sample\"),\n\t  br(),\n\t  br(),\n\t  br(),\n\n\n      # Histogram\n      plotOutput(outputId = \"histplot1\", width=\"30%\", height=\"30%\"),\n      br(),\n      br(),\n      plotOutput(outputId = \"histplot2\", width=\"30%\", height=\"30%\"),\n \n\t  # Calculate the mean\n      # verbatimTextOutput(\"mycheck\"), \n      h4(textOutput(outputId = \"mean_res\", strong))\n      \n\n    )\n  )\n)\n\n\n\n\n# Define server logic required to draw a histogram ----\nserver <- function(input, output) {\n\t\n\tmu <<- sample(65:75, size=1)\n\tx <<- (rnorm(100000, mean=mu, sd=4))\n\t\n\txsamp <- reactive({\n\t\tround(x[sample(length(x), input$ss)])\n\t\t\n\t})\n    \n   \toutput$histplot1 <- renderPlot({\n  \t\tpar(mar=c(4,6,2,0.2), cex=1)\n  \t\thist(x, col = rgb(0,0,0.5,0.25), las=1, xlim=c(mean(x)-10, mean(x)+10), freq=F,\n        \t\t xlab = \"Height (inches)\",\n        \t\t ylab = \"Probability density\",\n        \t\t main = \"Population\", breaks=10000)\n        abline(v=mean(x), lwd=4, col='red')\n\t\n    }, height=200, width=400)\n    \t\n    output$table <- renderDataTable(data.frame('Height (inches) in sample'=xsamp()))\n    \t\n\t\n  \tobserveEvent(input$run, {\n\t\txsamp <- reactive({\n\t\t\tround(x[sample(length(x), input$ss)])\n\t\t})   \t\n  \t\toutput$histplot2 <- renderPlot({\n\t\t\t\tpar(mar=c(4,6,2,0.2), cex=1)\n    \t\t\thist(xsamp(), col = rgb(0,0,0.5,0.5), las=1, xlim=c(mean(x)-10, mean(x)+10),\n        \t\t\t xlab = \"Height (inches)\",\n        \t\t\t ylab = \"Frequency\\n(# of people in sample)\",\n        \t\t \tmain = \"Sample\")\n        \t\t abline(v=mean(xsamp()), lwd=4, col='red')\n\t\n\t    \t\t}, height=200, width=400)\n    \t\n    \t\toutput$table <- renderDataTable(data.frame('Height (inches) in sample'=xsamp()))\n    \t\n    \t})\n    \t\n}\n\n# \n\nshinyApp(ui = ui, server = server) # end with a call to the shinyApp function\n\n\n\n","type":"text"}]
